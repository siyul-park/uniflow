# Test 노드

**Test 노드**는 개발한 워크플로우를 테스트하고 검증하는 기능을 제공합니다. 단순한 성공/실패 검증부터 구성 가능한 출력 포트를 통한 복잡한 검증 시나리오까지 지원합니다.

## 명세

추가적인 구성 매개변수를 필요로 하지 않습니다.

## 예제

### 단순 테스트 구성
```yaml
kind: test
ports:
  out:
    - name: sub
      port: in
```

### 확장 테스트 구성
```yaml
kind: test
ports:
  out[0]:
    - name: sub
      port: in
  out[1]:
    - name: assert
      port: in
```

## 포트

포트를 정의하는 방법은 크게 두 가지로, 테스트 할 워크플로우가 단순 정상 실행을 목적으로 한다면 out 포트 하나만을 사용하고, 워크플로우의 실행 결과를 검증하려면 out[] 배열로 구성합니다.

- **out[0] (out)**: 테스트할 워크플로우의 결과를 받는 포트입니다.
  - 연결된 워크플로우를 실행합니다
  - 연결된 워크플로우에서 오류가 발생하지 않으면 테스트 성공으로 판단됩니다
  - 워크플로우에서 오류가 반환되면 테스트 실패로 판단됩니다

- **out[1]**: out[0]의 실행 결과를 out[1]에 [index, value] 형식으로 전달합니다.
  - **index**: value가 frames 상에서 어디에 위치하는지 나타냅니다. 처음에는 -1로 시작합니다.
  - **value**: 테스트 결과와 비교할 값을 의미합니다.
  - out[1]이 연결이 되어 있지 않거나, out[0]에서 오류가 발생하면 테스트가 실패합니다.

## 동작 방식

1. **단순 테스트**
  - 연결된 워크플로우가 오류 없이 완료되면 테스트 성공
  - 워크플로우에서 오류가 반환되면 테스트 실패

2. **확장 테스트**
  - `out[0]`에 연결된 워크플로우가 먼저 실행됨
  - 결과가 [index, value] 형식으로 반환되고, `out[1]`에 연결된 노드로 전달됨
  - 워크플로우 실행과 value검증이 모두 통과해야 테스트 성공
  - 두 단계 중 하나라도 실패하면 테스트 실패

3. **오류 처리**
  - 모든 오류는 테스트 노드를 통해 전파됨
  - 디버깅을 위한 상세한 오류 정보 제공
  - 오류 발생 시 테스트 실행이 즉시 종료 